# README

## Scripts

```bash
python -m distributed.p2p.example --name p2p
```

## Results

All pairs take about 3 secs.

```log
python -m distributed.p2p.example --name p2p_bench
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 0,1...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 2045 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 2028 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 1868 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 2158 ms
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 1,2...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 1834 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 1794 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 1738 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 2537 ms
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 2,3...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 1924 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 1925 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 1694 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 2069 ms
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 3,4...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 1917 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 1943 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 1784 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 2537 ms
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 4,5...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 1733 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 1755 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 2788 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 2190 ms
[INFO example.py:62 run_p2p_bench] Running with CUDA devices 5,6...
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 2650 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 2599 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 3965 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 3066 ms
```

```log
python -m distributed.p2p.example --name p2p
[INFO example.py:51 run_p2p] Running P2P...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 1...
[INFO example.py:21 run_p2p_worker] Initializing process group for worker 0...
[INFO example.py:30 run_p2p_worker] Process group for worker 0 initialized in 2561 ms
[INFO example.py:30 run_p2p_worker] Process group for worker 1 initialized in 2603 ms
[INFO example.py:45 run_p2p_worker] Worker 1 received tensor: tensor([1.], device='cuda:1') in 2737 ms
[INFO example.py:39 run_p2p_worker] Worker 0 sent tensor: tensor([1.], device='cuda:0') in 3438 ms
```
